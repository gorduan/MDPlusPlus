/**
 * MD++ Mermaid Plugin Theme
 *
 * Defines color tokens specific to Mermaid diagrams.
 * Uses light-dark() for automatic theme switching.
 *
 * Based on: https://mermaid.js.org/config/theming.html
 */

@use '../abstracts/tokens' as *;

// ===========================================
// Mermaid Plugin Color Tokens
// ===========================================
:root {
  // Container colors
  --mermaid-bg: light-dark(#{$slate-50}, #{$slate-800});
  --mermaid-border: light-dark(#{$slate-200}, #{$slate-600});

  // Node colors (flowchart)
  --mermaid-node-bg: light-dark(#{$slate-100}, #{$slate-700});
  --mermaid-node-border: light-dark(#{$slate-300}, #{$slate-500});
  --mermaid-node-text: light-dark(#{$slate-800}, #{$slate-100});

  // Primary node (start/end)
  --mermaid-primary-bg: light-dark(#{$purple-100}, #{$purple-900});
  --mermaid-primary-border: light-dark(#{$purple-400}, #{$purple-500});
  --mermaid-primary-text: light-dark(#{$purple-900}, #{$purple-100});

  // Secondary node (process)
  --mermaid-secondary-bg: light-dark(#{$blue-100}, #{$blue-900});
  --mermaid-secondary-border: light-dark(#{$blue-400}, #{$blue-500});
  --mermaid-secondary-text: light-dark(#{$blue-900}, #{$blue-100});

  // Tertiary node (decision)
  --mermaid-tertiary-bg: light-dark(#{$green-100}, #{$green-900});
  --mermaid-tertiary-border: light-dark(#{$green-400}, #{$green-500});
  --mermaid-tertiary-text: light-dark(#{$green-900}, #{$green-100});

  // Edge/Arrow colors
  --mermaid-edge-color: light-dark(#{$slate-500}, #{$slate-400});
  --mermaid-edge-label-bg: light-dark(#{$slate-50}, #{$slate-800});

  // Sequence diagram
  --mermaid-actor-bg: light-dark(#{$purple-100}, #{$purple-800});
  --mermaid-actor-border: light-dark(#{$purple-400}, #{$purple-500});
  --mermaid-actor-text: light-dark(#{$purple-900}, #{$purple-100});
  --mermaid-signal-color: light-dark(#{$slate-600}, #{$slate-300});
  --mermaid-loop-bg: light-dark(#{$slate-100}, #{$slate-700});

  // Class diagram
  --mermaid-class-bg: light-dark(#{$yellow-50}, #{$yellow-900});
  --mermaid-class-border: light-dark(#{$yellow-400}, #{$yellow-500});
  --mermaid-class-text: light-dark(#{$yellow-900}, #{$yellow-100});

  // State diagram
  --mermaid-state-bg: light-dark(#{$cyan-100}, #{$cyan-900});
  --mermaid-state-border: light-dark(#{$cyan-400}, #{$cyan-500});
  --mermaid-state-text: light-dark(#{$cyan-900}, #{$cyan-100});

  // Error state
  --mermaid-error-bg: light-dark(#{$red-100}, #{$red-900});
  --mermaid-error-border: light-dark(#{$red-400}, #{$red-500});
  --mermaid-error-text: light-dark(#{$red-900}, #{$red-100});

  // UI elements
  --mermaid-toolbar-bg: light-dark(#{$slate-100}, #{$slate-700});
  --mermaid-button-bg: light-dark(#{$purple-600}, #{$purple-600});
  --mermaid-button-text: #{$white};
  --mermaid-button-hover: light-dark(#{$purple-700}, #{$purple-500});
}

// ===========================================
// Mermaid SVG Theme Override
// ===========================================
// These classes are generated by Mermaid.js
.mermaid {
  // Apply background
  background: var(--mermaid-bg);

  // Text colors
  .nodeLabel,
  .label {
    color: var(--mermaid-node-text);
  }

  // Node shapes
  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: var(--mermaid-node-bg);
    stroke: var(--mermaid-node-border);
  }

  // Edges
  .edgePath .path {
    stroke: var(--mermaid-edge-color);
  }

  .edgeLabel {
    background-color: var(--mermaid-edge-label-bg);
  }

  // Sequence diagram actors
  .actor {
    fill: var(--mermaid-actor-bg);
    stroke: var(--mermaid-actor-border);
  }

  // Arrowheads
  .arrowheadPath {
    fill: var(--mermaid-edge-color);
  }
}
